这个档案我会介绍硬件设计方面的详细信息。
![](Snipaste_2023-11-30_16-48-40.png)
这是本项目架构的拓扑，下面我将逐个介绍。
# 最小系统
## 电源
其实这个板块没什么好讲的，就是5V直流激励；所以把GPIO和一些其他引脚链接一并呈现了。
![](Snipaste_2023-12-02_14-08-25.png)
着重介绍下EA#引脚：我们不用外部程序存储器，要把这个引脚置高电平。什么？你问我不怕5V电源冲坏引脚吗？不怕，因为这个引脚内部集成了上拉电阻。
## 时钟
虽然89C52RC是有内部振荡源的，但是为了精确、稳定，我们还是采用了外置晶体振荡作时钟源的方案。
![](Snipaste_2023-11-30_16-43-22.png)
12MHz。为了更好的时序表现，我们需要干净的信号，麻烦33pF的电容给我结一下广告费。这个成本是不能省的我认为，因为三线通信和SPI总线都是要用GPIO模拟时序的，如果单片机的时钟不稳定或者有偏差的话，是不能和外设通信的。
## 复位
你可能注意到了，我在电源那张图里没有接RST引脚——我故意的！我设计电路的时候我就想，能不能不用RST引脚复位，让我找到办法了,POR上电复位。
![](Snipaste_2023-11-30_16-43-55.png)
微动开关默认是弹起，那么默认供电给单片机；一旦按下开关，电流直接跑路，去GND了，那单片机就断电；松手，又有电了，启动，顺带复位。
## 下载
用的ISP，具体什么原理，笔者不知道，但据STC公司描述：比较复杂。从学校开发板上抄了一个过来用。
![](Snipaste_2023-12-02_14-31-14.png)
这是南京沁恒他们家引脚最少的CH340了，因为对原理不是太自信，就搞了个简单的。在电赛期间听说有团队用沁恒的芯片好端端的冒烟了，我可不想付出那样的代价，加个二极管保护一下脆脆鲨340吧。
![](Snipaste_2023-12-02_14-32-13.png)
![](Snipaste_2023-12-02_14-31-51.png)
喏，这就是排针和TYPC-C的座子。本文中接入供电的电容都是滤除电网纹波的，不再赘述。
# 输入
## DS1302
讲实话，其实用8051内部定时器也能实现，但是功耗会比较离谱。我可是计划让这个数字钟有待机的概念的，还是来个专门的时钟芯片好了，况且对于专门的时钟芯片想要获得年月日的信息更加容易一些。
![](Snipaste_2023-12-04_12-41-01.png)
VCC1怎么接了两个地，不对，这是……电池？！哈哈，我说了，我想要“待机”，没电池怎么离开供电线。到时候买一颗2032规格的3V纽扣电池，应该能坚持一阵子吧。
## 按键
![](Snipaste_2023-12-04_12-41-28.png)
成本受限，电容相比几行消抖代码可贵多了。
# 输出
## LCD1602
手表都上AMOLED了，七段一点数码管会不会太有历史感，来个小液晶不犯规。
![](Snipaste_2023-12-04_12-55-12.png)
3脚为VL，系对比度调整端；这里用一个可调电位器来控制，控制权给到亲爱的用户们。
## 蜂鸣器
![](Snipaste_2023-12-04_12-55-27.png)
时钟，再做个闹钟，可以说是举手之劳的事情，但用户体验的提升是巨大滴。
# 调试口
因为是手工焊接，多少可能会出现问题，笔者预留了若干排针用于调试。
![](Snipaste_2023-12-04_13-07-48.png)
LED是电源指示灯，通过USB口供电时会亮。